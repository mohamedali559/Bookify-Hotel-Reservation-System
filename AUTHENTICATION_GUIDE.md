# ???? Authentication & Authorization - Bookify Hotel System

## ?? ???? ???????

?? ????? ???? ???? ??? Authentication ? Authorization ?? ??? ??????? (User ? Admin).

---

## ?? ??????? ????????

### 1. ViewModels
- **LoginViewModel.cs** - ????? ????? ??????
- **RegisterViewModel.cs** - ????? ???????

### 2. Controller
- **AccountController.cs** - ????? ???:
  - Login (GET/POST)
  - Register (GET/POST)
  - Logout (POST)
  - AccessDenied (GET)

### 3. Views
- **Views/Account/Login.cshtml** - ???? ????? ?????? ?????? ????
- **Views/Account/Register.cshtml** - ???? ??????? ?????? ????
- **Views/Account/AccessDenied.cshtml** - ???? ??? ??????

### 4. ??????? ??? ??????? ????????
- **Program.cs** - ?????:
  - Cookie configuration
  - Role seeding (User, Admin)
  - Default Admin user creation
- **_Layout.cshtml** - ????? ????? ???????? ?? ?????? Login/Logout
- **_HotelLayout.cshtml** - ????? ????? ???????? ?? dropdown menu
- **AdminController.cs** - ????? `[Authorize(Roles = "Admin")]`
- **BookingController.cs** - ????? `[Authorize]`
- **ReservationController.cs** - ????? `[Authorize]`
- **PaymentController.cs** - ????? `[Authorize]`

---

## ?? ?????? ?????? ??????????

### Admin Account (????? ????????)
- **Email:** admin@bookify.com
- **Password:** Admin@123
- **Role:** Admin

### User Account
????? ????? ???? ?????? ???? ?? ???? ???? Register

---

## ??? ??????? ??????????

### User Role
- ????? ??? ?????
- ????? ????? ??????
- ????? ??? ???????
- ????? ?????

### Admin Role
- ???? ???? ??????? User
- ????? ?????? ??? Admin Panel
- ????? ????? ??????

---

## ?? ??????? ????????

? ???? ????? ?????? ????
? ???? ??????? ?? validation
? ????? ????? ??????
? Cookie-based authentication
? Role-based authorization
? ???? Access Denied
? Logout functionality
? Remember Me feature
? User dropdown menu ?? ??? navbar
? ????? Admin ??????? ??? ??? ???????
? ????? ??????? ??????? (Booking, Payment, Admin)

---

## ?? ????? ?????????

### 1. ????? ???????
```bash
dotnet run
```

### 2. ????? ?????? ?? Admin
- ???? ???: `/Account/Login`
- ????: admin@bookify.com / Admin@123

### 3. ????? ???? ??????
- ???? ???: `/Account/Register`
- ???? ???????? ????????

### 4. ????? ??????
- ???? ??? ??? ???????? ?? ??? navbar
- ???? "Logout"

---

## ?? ??????? ??????

### Password Requirements
- ????? ??????: 6 ????
- ??? ?? ????? ???: ??? ????? ??? ????? ???
- ?? ????? ???? ????

### Cookie Settings
- Expires: 7 ????
- Sliding Expiration: ?????
- HttpOnly: ?????
- Secure: Always
- SameSite: Strict

### Account Lockout
- Max Failed Attempts: 5
- Lockout Duration: 5 ?????

---

## ?? ???????

- ????? ???? ????? ?? gradients
- Responsive design (???? ??? ???? ???????)
- Font Awesome icons
- Bootstrap 5
- Custom CSS styling
- Smooth animations and transitions

---

## ?? ??? Routes

```
GET  /Account/Login         - ???? ????? ??????
POST /Account/Login         - ?????? ????? ??????
GET  /Account/Register      - ???? ???????
POST /Account/Register      - ?????? ???????
POST /Account/Logout        - ????? ??????
GET  /Account/AccessDenied  - ???? ??? ??????
```

---

## ?? ??????? ????

1. **Database Migration**: ???? ?? ????? migrations ??? ?? ??? ????? ????? Identity:
   ```bash
   dotnet ef migrations add AddIdentityTables
   dotnet ef database update
   ```

2. **Admin User**: ??? ????? Admin ???????? ??? ??? ????? ???????

3. **Protected Routes**: ??????? ??????? ?????:
   - `/Admin/*` - Admin only
   - `/Booking/*` - Authenticated users
   - `/Reservation/*` - Authenticated users
   - `/Payment/*` - Authenticated users

4. **Validation**: ???? ??? Forms ????? ??? client-side ? server-side validation

---

## ?? ??????? ???????

### ??? ?? ???? ??? Login:
1. ???? ?? ?? Database ?????
2. ???? ?? ?? User ????? ?? Database
3. ???? ?? Logs ???????

### ??? ?? ???? Admin Panel:
1. ???? ?? ????? ?????? ????? Admin
2. ???? ?? Roles ?? Database

---

## ? ????? ?????? ???? ??????? ??????

- [ ] Email Confirmation
- [ ] Password Reset
- [ ] Two-Factor Authentication
- [ ] User Profile Page
- [ ] Change Password
- [ ] Social Login (Google, Facebook)
- [ ] Activity Logging
- [ ] Session Management

---

## ?? ?????

???????? ?? ???????????? ???? ??????? ?? ???? ???????.

**?? ??????? ?????! ?**
