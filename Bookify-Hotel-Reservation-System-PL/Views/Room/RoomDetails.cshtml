@model RoomDetailsViewModel

@{
    ViewData["Title"] = Model.RoomTypeName;
}

@section Styles {
    <link rel="stylesheet" href="~/css/RoomsStyle.css" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/room-details.css" />
}

<!-- Cart & Toast -->
<div class="cart" id="main-cart" style="display: none;">
    <i class="fas fa-shopping-cart"></i> <span id="cart-count">0</span>
</div>
<div id="toast" style="position: fixed; bottom: 20px; right: 20px; background: #4CAF50; color: white; padding: 15px 20px; border-radius: 5px; display: none; z-index: 1000;"></div>

<div class="room-details-container">
    <div class="room-details-header">
        <h1>@Model.RoomTypeName</h1>
        <div class="divider"></div>
        <p>Experience luxury and comfort in our premium accommodations</p>
    </div>

    <div class="room-details-content">
        <div class="room-image-section">
            <img src="@Model.ImageUrl" alt="@Model.RoomTypeName" class="room-image">
        </div>

        <div class="room-info-section">
            <h2>Room Features</h2>
            <p>@Model.RoomDescription</p>

            <div class="room-specs">
                <div class="spec-item">
                    <i class="fas fa-user-friends"></i>
                    <span>@Model.Guests Guests</span>
                </div>
                <div class="spec-item">
                    <i class="fas fa-vector-square"></i>
                    <span>@Model.Area m²</span>
                </div>
                <div class="spec-item">
                    <i class="fas fa-layer-group"></i>
                    <span>Floor @Model.Floor</span>
                </div>
                <div class="spec-item">
                    <i class="fas fa-building"></i>
                    <span>Room #@Model.RoomId</span>
                </div>
            </div>

            <div class="price-section">
                <div class="price-label">Starting from</div>
                <div class="price-value">$@Model.BasePrice</div>
                <div class="price-label">per night</div>
            </div>

            <div class="booking-info-panel">
                <h4><i class="fas fa-info-circle"></i> Booking Information</h4>
                <p><i class="fas fa-check-circle"></i> Free cancellation within 24 hours</p>
                <p><i class="fas fa-coffee"></i> Complimentary breakfast included</p>
                <p><i class="fas fa-wifi"></i> Free high-speed Wi-Fi</p>
                <p><i class="fas fa-clock"></i> Check-in: 2 PM | Check-out: 11 AM</p>
            </div>
        </div>
    </div>

    @if (Model.Amenities != null && Model.Amenities.Any())
    {
        <div class="amenities-section">
            <h3><i class="fas fa-star"></i> Room Amenities</h3>
            <div class="amenities-grid">
                @foreach (var amenity in Model.Amenities)
                {
                    <div class="amenity-item">
                        <i class="fas fa-check-circle"></i>
                        <div>
                            <div class="amenity-name">@amenity.Name</div>
                            @if (!string.IsNullOrWhiteSpace(amenity.Description))
                            {
                                <div class="amenity-desc">@amenity.Description</div>
                            }
                        </div>
                    </div>
                }
            </div>
        </div>
    }

    <div class="action-buttons">
        <button class="btn-primary" onclick="addToCart()">
            <i class="fas fa-shopping-cart"></i> Add to Cart
        </button>
        <a href="/Room/Index" class="btn-secondary">
            <i class="fas fa-arrow-left"></i> Back to Rooms
        </a>
    </div>
</div>

@section Scripts {
    <script>
        // Set current room data for JavaScript access
        window.currentRoomData = {
            roomId: @Model.RoomId,
            roomTypeName: '@Html.Raw(Model.RoomTypeName.Replace("'", "\\'"))',
            roomDescription: '@Html.Raw(Model.RoomDescription?.Replace("'", "\\'") ?? "")',
            imageUrl: '@Model.ImageUrl',
            basePrice: @Model.BasePrice,
            guests: @Model.Guests,
            area: @Model.Area,
            floor: @Model.Floor
        };
    </script>
    <script src="~/js/room-details.js"></script>
}
